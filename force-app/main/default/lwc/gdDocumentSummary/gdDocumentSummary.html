<!-- sldsValidatorIgnore -->
<template>
    <div class="slds-is-relative">
        <lightning-card title={label.documentsToProvide} if:true={loaded} icon-name="standard:document">
            <lightning-spinner if:true={showSpinner} size="medium"></lightning-spinner>
            <!-- DOCUMENTOS REDACCION -->
            <div class="slds-text-heading_small slds-p-bottom_small slds-p-left_medium custom-border-bottom">{label.pendingDocumentTitle}</div>
            <template if:true={hasPendingRedactionLines} for:each={redactionLines} for:item="line">
                <c-gd-document-summary-line 
                    line={line}
                    key={line.title}
                    onselected={handleDocumentSelect}>
                </c-gd-document-summary-line>
            </template>
            <c-illustration
                if:false={hasPendingRedactionLines}
                heading={label.noPendingDocuments}
                image-name="custom:no_task">
                <div slot="headingTitle">
                    <div class="slds-text-title_bold slds-truncate slds-text-align_center">
                        {label.noPendingDocuments}
                    </div>
                </div>
            </c-illustration>
            <!-- AGRUPACION DE DOCUMENTOS ADICIONALES -->
            <lightning-accordion
                class="aditiona-lines-title custom-accordion slds-m-top_medium" 
                allow-multiple-sections-open
                active-section-name={activeSections}
                if:true={hasPendingAditionalLines}>
                <template  for:each={aditionaLinesGrouping} for:item="group"> 
                    <lightning-accordion-section class="custom-accordion-section" key={group.title} name={group.title} label={group.title} >
                        <div>
                            <template for:each={group.values} for:item="line">
                                <c-gd-document-summary-line 
                                    line={line} 
                                    key={line.title}
                                    onselected={handleDocumentSelect}>
                                </c-gd-document-summary-line>
                            </template>
                        </div>
                    </lightning-accordion-section>
                </template>
            </lightning-accordion>
            <c-illustration
                if:false={hasPendingAditionalLines}
                heading={label.noPendingDocuments}
                image-name="custom:no_task">
                <div slot="headingTitle">
                    <div class="slds-text-title_bold slds-truncate slds-text-align_center">
                        {label.noPendingDocuments}
                    </div>
                </div>
            </c-illustration>
        </lightning-card>
    </div>
    <c-lms-message-service source={_namespace} onmessage={handleMessageService}></c-lms-message-service>
</template>